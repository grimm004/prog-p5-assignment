<!DOCTYPE html>

<!--

Damped Wave 3D Demo Page
by ------------.

03/12/2018

-->

<html>

<head>
    <title>P5 Demo</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.js"></script>
    <script src="damped_oscillator.js"></script>
    <script type='text/javascript'>
"use strict";

var dw0, dw1;

function setup() {
    let canvas = createCanvas(windowWidth, windowHeight - 100, WEBGL);
    canvas.parent('wavedemo');
    background(255);
    noStroke();

    dw0 = new DampedOscillation();
    dw1 = new DampedOscillation();
    
    var fov = 60 / 180 * PI;
    var cameraZ = height / 2.0 / tan(fov / 2.0);
    perspective(fov, width / height, cameraZ * 0.1, cameraZ * 10);
}

function draw() {
    background(200);
    orbitControl();
    
    dw0.draw();
    
    translate(width/4, 0, 0);
    dw1.draw();
}

function changeSpeed(value) {
    dw0.setSpeed(1/value);
    dw1.setSpeed(1/value);
}

    </script>
</head>

<body>
    <p>Damped Sine Wave 3D Demo</p>
    <input type="range" min="100" max="1000" value="500" oninput="changeSpeed(this.value)">
    <div id='wavedemo'/>
</body>

</html>
